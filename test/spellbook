
formula
	alert:bob
	blah:blih
	allcaps:FUUU
	list:one,two,three
	list-fr:un,deux,trois
	version:0.1.2



.echo
	scroll
		echo echo

.delayed-echo
	scroll
		sleep 1
		echo delayed-echo

.kawarimi
	scroll
		echo ${alert} ${blah}${blah} ${list}

.kawarimi-filter
	scroll
		echo ${version/regexp/shellarg}
		echo ${alert/uppercase}
		echo ${allcaps/lowercase}

.foreach
	foreach list
		scroll
			echo one more time: ${list}
	
	scroll
		echo end: ${list}

.foreach-coupled
	foreach list
		scroll
			echo ${list} - ${list-fr:list}

.transmute
	transmute list
		/e/g
		'E'
	
	foreach list
		scroll
			echo ${list}

.transmute-file
	scroll
		echo one two three > transmute-file.tmp
	
	transmute-file transmute-file.tmp
		/e/g
		'E'
	
	scroll
		cat transmute-file.tmp

.write-formula
	scroll amnesia silence write-formula:ls
		ls ls/
		ls ls/
	
	scroll
		echo ls default line: ${ls}
	
	foreach ls
		scroll
			echo ls line: ${ls}
		
.summon-top
	summon
		ls/one
	
	scroll
		echo This should not appear

:ls/one
	summon
		ls/two
		ls/three









.editor
	scroll
		$EDITOR

.node
	scroll
		node

.stdinout
	scroll
		./stdinout










.depend
	cast
		blah
	summon
		dependency.txt
	scroll
		echo Dependencies should be rebuilt

:spellcast-dependency.txt
	scroll
		echo Creating spellcast-dependency.txt
		echo "This is a dummy dependency file." > spellcast-dependency.txt

.fireball
	scroll parallel:2
		echo Zap Boum
		echo Zashhhh && sleep 1 && echo Crash
		echo Fizz

.nova
	scroll
		echo Grrrrjjjjj grrrrrjjjjj grrrrjjjj
		exit
		echo flash
		exit 2
		echo bang





