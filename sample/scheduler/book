
[[doctype spellcast/book]]



[entity-model entity]
	class: entity
	label: Entity



[chapter intro]
	
	[scene intro1]
		
		[create-entity $alice]
			model: entity
			label: Alice
		
		[create-entity $bob]
			model: entity
			label: Bob
		
		[create-scheduler $scheduler]
		
		[add-to-scheduler $scheduler]
			entity: $alice
			readying-duration: 10
		
		[add-to-scheduler $scheduler]
			entity: $bob
			readying-duration: 8
		
		[on $scheduler ready]
			[message] $> Received the ^/ready^ event for: ${args.entity.label}
			[pause] 1
			[message] $> ready listener, after pause
			[schedule-action $scheduler]
				entity: $args.entity
				action: talk
			[message] $> ready listener, after [schedule-action]
		
		[on $scheduler started]
			[message] $> Received the ^/started^ event for: ${args.entity.label}, action: ${args.action}
			[pause] 1
			[message] $> started listener, after pause
		
		#[debug] $scheduler
		
		[message] $> main, before [advance-scheduler]
		[advance-scheduler $scheduler]
		[message] $> main, after [advance-scheduler]
		
		[pause] 1
		
		