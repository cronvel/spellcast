
[[doctype spellbook]]

[formula]
	alert: bob
	blah: blih
	allcaps: FUUU
	list:
		- one
		- two
		- three
	list-fr:
		- un
		- deux
		- trois
	version: 0.1.2
	value: 3
	ref: $alert

[wand fire staff] @@firestaff.js

[spell wand]
	[zap fire staff's delayed fireball]
	[zap fire staff.fireball]

[spell echo]
	[scroll]
		- echo echo

[spell set]
	[set $a] something
	[set $b] $> ${ref} something
	[set $c] $alert
	[set $d] $ref
	[chant]
		- $> Value of $$a: ${a}
		- $> Value of $$b: ${b}
		- $> Value of $$c: ${c}
		- $> Value of $$d: ${d}
		- $> Value of alert: ${alert}
		- $> Value of ref: ${ref}

[spell if]
	[if $value > 4]
		[chant]
			- > Condition OK
	[else]
		[chant]
			- > Condition NOT OK

[spell foreach-echo]
	#[foreach $list => $value]
	[foreach $list => $key : $value]
		[scroll]
			- $> echo ${value}

[spell blah]
	[scroll]
		- echo blah

[spell delayed-echo]
	[scroll]
		- sleep 1
		- echo delayed-echo

[spell ls]
	[scroll]
		- ls -l

[spell love]
	[chant]
		$> ^M^/Star of love, burn so bright
		$> Aid me in my spell tonight
		$> Unite my true love to me
		$> As I will ${alert}, so mote it be. 

[spell kawarimi]
	[scroll]
		- $> echo ${alert//sharg} ${blah//sharg}${blah//sharg} ${list//sharg}

[spell depend]
	[cast]
		- blah
	[summon]
		- dependency.txt
	[scroll]
		- echo Dependencies should be rebuilt

[summoning spellcast-dependency.txt]
	[scroll]
		- echo Creating spellcast-dependency.txt
		- echo "This is a dummy static dependency file." > spellcast-dependency.txt

[summoning regex(i): .*\.bob]
	[summon]
		- spellbook
	[scroll]
		# Kung-Fig should allow another feature in proxy/tag: force filtering in template?
		#- $> echo Creating ${this.summoning}
		- $> echo "This is a dummy regex dependency file." > ${this.summoning}

[summoning *.bill]
	[summon]
		- spellcast-dependency.txt
	
	[scroll]
		# Kung-Fig should allow another feature in proxy/tag: force filtering in template?
		#- $> echo Creating ${this.summoning}
		- $> echo "This is a dummy glob dependency file." > ${this.summoning}



